(()=>{"use strict";var e={729:(e,r,s)=>{var a=s(751),t=s(641),n=s(33);const o={id:"app"},i={class:"navbar navbar-expand navbar-dark bg-dark"},l={key:0,class:"navbar-nav mr-auto"},d={class:"nav-item"},u={class:"navbar-nav mr-auto"},c={key:0,class:"nav-item"},m={key:1,class:"nav-item"},g={key:1,class:"navbar-nav ml-auto"},p={class:"nav-item"},h={class:"nav-item"},f={key:2,class:"navbar-nav ml-auto"},b={class:"nav-item"},v={class:"nav-item"},k={class:"container"};function y(e,r,s,y,L,w){const F=(0,t.g2)("font-awesome-icon"),E=(0,t.g2)("router-link"),S=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("nav",i,[w.currentUser?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",l,[(0,t.Lk)("li",d,[(0,t.bF)(E,{to:"/",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"home"}),(0,t.eW)(" Home ")])),_:1})])])),(0,t.Lk)("div",u,[w.currentUser?((0,t.uX)(),(0,t.CE)("li",c,[(0,t.bF)(E,{to:"/home",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"home"}),(0,t.eW)(" Home ")])),_:1})])):(0,t.Q3)("",!0),w.showAdminBoard?((0,t.uX)(),(0,t.CE)("li",m,[(0,t.bF)(E,{to:"/admin/home",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.eW)(" Edit ")])),_:1}),w.showAdminBoard?((0,t.uX)(),(0,t.Wv)(E,{key:0,to:"/admin/add",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.eW)("Add")])),_:1})):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0)]),w.currentUser?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",g,[(0,t.Lk)("li",p,[(0,t.bF)(E,{to:"/register",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"user-plus"}),(0,t.eW)(" Sign Up ")])),_:1})]),(0,t.Lk)("li",h,[(0,t.bF)(E,{to:"/login",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"sign-in-alt"}),(0,t.eW)(" Login ")])),_:1})])])),w.currentUser?((0,t.uX)(),(0,t.CE)("div",f,[(0,t.Lk)("li",b,[(0,t.bF)(E,{to:"/profile",class:"nav-link"},{default:(0,t.k6)((()=>[(0,t.bF)(F,{icon:"user"}),(0,t.eW)(" "+(0,n.v_)(w.currentUser.username),1)])),_:1})]),(0,t.Lk)("li",v,[(0,t.Lk)("a",{class:"nav-link",onClick:r[0]||(r[0]=(0,a.D$)(((...e)=>w.logOut&&w.logOut(...e)),["prevent"]))},[(0,t.bF)(F,{icon:"sign-out-alt"}),(0,t.eW)(" LogOut ")])])])):(0,t.Q3)("",!0)]),(0,t.Lk)("div",k,[(0,t.bF)(S)])])}const L={computed:{currentUser(){return this.$store.state.auth.user},showAdminBoard(){return!(!this.currentUser||!this.currentUser["roles"])&&this.currentUser["roles"].includes("ROLE_ADMIN")},showModeratorBoard(){return!(!this.currentUser||!this.currentUser["roles"])&&this.currentUser["roles"].includes("ROLE_MODERATOR")}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}};var w=s(262);const F=(0,w.A)(L,[["render",y]]),E=F;var S=s(220);var C=s(250);function A(){let e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}const O="http://localhost:8080/api/test/";class _{getPublicContent(){return C.A.get(O+"all")}getUserBoard(){return C.A.get(O+"user",{headers:A()})}getModeratorBoard(){return C.A.get(O+"mod",{headers:A()})}getAdminBoard(){return C.A.get(O+"admin",{headers:A()})}}new _;const x={class:"col-md-12"},I={class:"card card-container"},U=(0,t.Lk)("img",{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",class:"profile-img-card"},null,-1),j={class:"form-group"},P=(0,t.Lk)("label",{for:"username"},"Username",-1),M={class:"form-group"},N=(0,t.Lk)("label",{for:"password"},"Password",-1),T={class:"form-group"},X=["disabled"],q={class:"spinner-border spinner-border-sm"},$=(0,t.Lk)("span",null,"Login",-1),B={class:"form-group"},W={key:0,class:"alert alert-danger",role:"alert"};function Q(e,r,s,o,i,l){const d=(0,t.g2)("Field"),u=(0,t.g2)("ErrorMessage"),c=(0,t.g2)("Form");return(0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("div",I,[U,(0,t.bF)(c,{onSubmit:l.handleLogin,"validation-schema":i.schema},{default:(0,t.k6)((()=>[(0,t.Lk)("div",j,[P,(0,t.bF)(d,{name:"username",type:"text",class:"form-control"}),(0,t.bF)(u,{name:"username",class:"error-feedback"})]),(0,t.Lk)("div",M,[N,(0,t.bF)(d,{name:"password",type:"password",class:"form-control"}),(0,t.bF)(u,{name:"password",class:"error-feedback"})]),(0,t.Lk)("div",T,[(0,t.Lk)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,t.bo)((0,t.Lk)("span",q,null,512),[[a.aG,i.loading]]),$],8,X)]),(0,t.Lk)("div",B,[i.message?((0,t.uX)(),(0,t.CE)("div",W,(0,n.v_)(i.message),1)):(0,t.Q3)("",!0)])])),_:1},8,["onSubmit","validation-schema"])])])}var D=s(261),R=s(664);const Y={name:"Login",components:{Form:D.lV,Field:D.D0,ErrorMessage:D.Kw},data(){const e=R.Ik().shape({username:R.Yj().required("Username is required!"),password:R.Yj().required("Password is required!")});return{loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{handleLogin(e){this.loading=!0,this.$store.dispatch("auth/login",e).then((()=>{this.$router.push("/profile")}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}},G=(0,w.A)(Y,[["render",Q]]),H=G,J={class:"col-md-12"},K={class:"card card-container"},V=(0,t.Lk)("img",{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",class:"profile-img-card"},null,-1),z={key:0},Z={class:"form-group"},ee=(0,t.Lk)("label",{for:"username"},"Username",-1),re={class:"form-group"},se=(0,t.Lk)("label",{for:"email"},"Email",-1),ae={class:"form-group"},te=(0,t.Lk)("label",{for:"password"},"Password",-1),ne={class:"form-group"},oe=(0,t.Lk)("label",{for:"phone"},"Phone",-1),ie={class:"form-group"},le=["disabled"],de={class:"spinner-border spinner-border-sm"};function ue(e,r,s,o,i,l){const d=(0,t.g2)("Field"),u=(0,t.g2)("ErrorMessage"),c=(0,t.g2)("Form");return(0,t.uX)(),(0,t.CE)("div",J,[(0,t.Lk)("div",K,[V,(0,t.bF)(c,{onSubmit:l.handleRegister,"validation-schema":i.schema},{default:(0,t.k6)((()=>[i.successful?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",z,[(0,t.Lk)("div",Z,[ee,(0,t.bF)(d,{name:"username",type:"text",class:"form-control"}),(0,t.bF)(u,{name:"username",class:"error-feedback"})]),(0,t.Lk)("div",re,[se,(0,t.bF)(d,{name:"email",type:"email",class:"form-control"}),(0,t.bF)(u,{name:"email",class:"error-feedback"})]),(0,t.Lk)("div",ae,[te,(0,t.bF)(d,{name:"password",type:"password",class:"form-control"}),(0,t.bF)(u,{name:"password",class:"error-feedback"})]),(0,t.Lk)("div",ne,[oe,(0,t.bF)(d,{name:"phone",type:"text",class:"form-control"}),(0,t.bF)(u,{name:"phone",class:"error-feedback"})]),(0,t.Lk)("div",ie,[(0,t.Lk)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,t.bo)((0,t.Lk)("span",de,null,512),[[a.aG,i.loading]]),(0,t.eW)(" Sign Up ")],8,le)])]))])),_:1},8,["onSubmit","validation-schema"]),i.message?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,n.C4)(["alert",i.successful?"alert-success":"alert-danger"])},(0,n.v_)(i.message),3)):(0,t.Q3)("",!0)])])}const ce={name:"Register",components:{Form:D.lV,Field:D.D0,ErrorMessage:D.Kw},data(){const e=R.Ik().shape({username:R.Yj().required("Username is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),email:R.Yj().required("Email is required!").email("Email is invalid!").max(50,"Must be maximum 50 characters!"),password:R.Yj().required("Password is required!").min(6,"Must be at least 6 characters!").max(40,"Must be maximum 40 characters!")});return{successful:!1,loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},mounted(){this.loggedIn&&this.$router.push("/profile")},methods:{handleRegister(e){this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",e).then((e=>{this.message=e.message,this.successful=!0,this.loading=!1}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.successful=!1,this.loading=!1}))}}},me=(0,w.A)(ce,[["render",ue]]),ge=me,pe=()=>s.e(319).then(s.bind(s,319)),he=()=>s.e(841).then(s.bind(s,841)),fe=()=>s.e(707).then(s.bind(s,707)),be=()=>s.e(643).then(s.bind(s,643)),ve=()=>s.e(132).then(s.bind(s,132)),ke=[{path:"/",name:"home",component:ve},{path:"/home",component:fe},{path:"/home/:id",name:"layanan-details-",component:be},{path:"/login",component:H},{path:"/register",component:ge},{path:"/profile",name:"profile",component:pe},{path:"/admin",name:"admin",children:[{path:"/admin/add",name:"user",component:he},{path:"/admin/home",component:()=>s.e(611).then(s.bind(s,611))},{path:"/admin/home/:id",name:"layanan-details",component:()=>s.e(191).then(s.bind(s,191))}]}],ye=(0,S.aE)({history:(0,S.LA)(),routes:ke}),Le=ye;var we=s(278);const Fe="http://localhost:8080/api/auth/";class Ee{login(e){return C.A.post(Fe+"signin",{username:e.username,password:e.password}).then((e=>(e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data)))}logout(){localStorage.removeItem("user")}register(e){return C.A.post(Fe+"signup",{username:e.username,email:e.email,password:e.password})}}const Se=new Ee,Ce=JSON.parse(localStorage.getItem("user")),Ae=Ce?{status:{loggedIn:!0},user:Ce}:{status:{loggedIn:!1},user:null},Oe={namespaced:!0,state:Ae,actions:{login({commit:e},r){return Se.login(r).then((r=>(e("loginSuccess",r),Promise.resolve(r))),(r=>(e("loginFailure"),Promise.reject(r))))},logout({commit:e}){Se.logout(),e("logout")},register({commit:e},r){return Se.register(r).then((r=>(e("registerSuccess"),Promise.resolve(r.data))),(r=>(e("registerFailure"),Promise.reject(r))))}},mutations:{loginSuccess(e,r){e.status.loggedIn=!0,e.user=r},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}}},_e=(0,we.y$)({modules:{auth:Oe}}),xe=_e;s(754);var Ie=s(107),Ue=s(273),je=s(188);Ie.Yv.add(je.v02,je.X46,je.nWR,je.rhE,je.GxD),(0,a.Ef)(E).use(Le).use(xe).component("font-awesome-icon",Ue.gc).mount("#app")}},r={};function s(a){var t=r[a];if(void 0!==t)return t.exports;var n=r[a]={exports:{}};return e[a].call(n.exports,n,n.exports,s),n.exports}s.m=e,(()=>{var e=[];s.O=(r,a,t,n)=>{if(!a){var o=1/0;for(u=0;u<e.length;u++){for(var[a,t,n]=e[u],i=!0,l=0;l<a.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((e=>s.O[e](a[l])))?a.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(u--,1);var d=t();void 0!==d&&(r=d)}}return r}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,t,n]}})(),(()=>{s.n=e=>{var r=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(r,{a:r}),r}})(),(()=>{s.d=(e,r)=>{for(var a in r)s.o(r,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((r,a)=>(s.f[a](e,r),r)),[]))})(),(()=>{s.u=e=>"js/"+e+"."+{132:"82b25fa3",191:"b10afea1",319:"3e69f405",611:"c66b6eb9",643:"dfe4ed61",707:"55814070",841:"56d9edc0"}[e]+".js"})(),(()=>{s.miniCssF=e=>"css/"+e+"."+{132:"4445956f",191:"ba9419c9",611:"4445956f",643:"ba9419c9",707:"4445956f",841:"d2108c4b"}[e]+".css"})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})(),(()=>{var e={},r="frontend:";s.l=(a,t,n,o)=>{if(e[a])e[a].push(t);else{var i,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var c=d[u];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==r+n){i=c;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",r+n),i.src=a),e[a]=[t];var m=(r,s)=>{i.onerror=i.onload=null,clearTimeout(g);var t=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),t&&t.forEach((e=>e(s))),r)return r(s)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,r,a,t,n)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",s.nc&&(o.nonce=s.nc);var i=s=>{if(o.onerror=o.onload=null,"load"===s.type)t();else{var a=s&&s.type,i=s&&s.target&&s.target.href||r,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+i+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=i,o.parentNode&&o.parentNode.removeChild(o),n(l)}};return o.onerror=o.onload=i,o.href=r,a?a.parentNode.insertBefore(o,a.nextSibling):document.head.appendChild(o),o},r=(e,r)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var t=s[a],n=t.getAttribute("data-href")||t.getAttribute("href");if("stylesheet"===t.rel&&(n===e||n===r))return t}var o=document.getElementsByTagName("style");for(a=0;a<o.length;a++){t=o[a],n=t.getAttribute("data-href");if(n===e||n===r)return t}},a=a=>new Promise(((t,n)=>{var o=s.miniCssF(a),i=s.p+o;if(r(o,i))return t();e(a,i,null,t,n)})),t={524:0};s.f.miniCss=(e,r)=>{var s={132:1,191:1,611:1,643:1,707:1,841:1};t[e]?r.push(t[e]):0!==t[e]&&s[e]&&r.push(t[e]=a(e).then((()=>{t[e]=0}),(r=>{throw delete t[e],r})))}}})(),(()=>{var e={524:0};s.f.j=(r,a)=>{var t=s.o(e,r)?e[r]:void 0;if(0!==t)if(t)a.push(t[2]);else{var n=new Promise(((s,a)=>t=e[r]=[s,a]));a.push(t[2]=n);var o=s.p+s.u(r),i=new Error,l=a=>{if(s.o(e,r)&&(t=e[r],0!==t&&(e[r]=void 0),t)){var n=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+r+" failed.\n("+n+": "+o+")",i.name="ChunkLoadError",i.type=n,i.request=o,t[1](i)}};s.l(o,l,"chunk-"+r,r)}},s.O.j=r=>0===e[r];var r=(r,a)=>{var t,n,[o,i,l]=a,d=0;if(o.some((r=>0!==e[r]))){for(t in i)s.o(i,t)&&(s.m[t]=i[t]);if(l)var u=l(s)}for(r&&r(a);d<o.length;d++)n=o[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var a=s.O(void 0,[504],(()=>s(729)));a=s.O(a)})();
//# sourceMappingURL=app.a46c82fe.js.map